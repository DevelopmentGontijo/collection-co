<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>Etheris™ — Consultoria em Transformação Operacional e Tecnológica</title>
  <meta name="description" content="Etheris™ — Clareza estratégica para operações e tecnologia.">
  <link rel="canonical" href="https://etheris.com.br" />
  <link rel="icon" href="Etheris-F.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Tenor+Sans&display=swap" rel="stylesheet" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background-color: #f9f9f9;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      cursor: pointer;
    }

    .background-video {
      position: fixed;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      object-fit: cover;
      z-index: 0;
      pointer-events: none;
    }

    .container {
      position: relative;
      z-index: 1;
      padding: 2rem;
    }

    h1 {
      font-size: 1.8rem;
      margin: 0 auto 0.5rem;
      font-weight: 300;
      line-height: 2.2rem;
      animation: blur-in 1.8s ease-out forwards;
      color: #fff;
      transition: color 1.8s ease-out;
      text-align: center;
      max-width: 90vw;
    }

    .frase-entrada {
      font-family: 'Tenor Sans', sans-serif;
      font-size: 9px;
      color: #fff;
      margin-bottom: 2rem;
      animation: blur-in 1.8s ease-out forwards;
      transition: color 1.8s ease-out;
    }

    .logo {
      width: 120px;
      margin-bottom: 1rem;
      animation: blur-in 2.5s ease-out forwards;
    }

    @keyframes blur-in {
      0% {
        opacity: 0;
        filter: blur(8px );
      }
      100% {
        opacity: 1;
        filter: blur(0);
      }
    }

    .blur-effect {
      animation: blur-in 1.8s ease-out;
    }

    @media (max-width: 768px) {
      .background-video {
        object-position: center center;
        width: 100vw;
        height: 100vh;
      }
    }

    @media screen and (device-aspect-ratio: 9/19),
           screen and (device-aspect-ratio: 9/18),
           screen and (device-aspect-ratio: 2/3) {
      .background-video {
        object-position: center center;
      }
    }

    /* Desktop Menu */
    nav#top-menu {
      display: flex;
      justify-content: center;
      align-items: center;
      position: absolute;
      top: 0.5rem;
      left: 0;
      width: 100%;
      z-index: 12;
      background: transparent;
      font-family: 'Tenor Sans', sans-serif;
      gap: 3rem;
    }

    nav#top-menu .menu-item {
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    :root {
      --menu-size: 0.72rem;
      --submenu-size: 0.65rem;
    }

    nav#top-menu .menu-link {
      color: #111;
      font-size: var(--menu-size);
      font-weight: 400;
      text-decoration: none;
      transition: color 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.01em;
      position: relative;
    }

    nav#top-menu .menu-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 50%;
      transform: translateX(-50%);
      width: 0%;
      height: 1px;
      background-color: #111;
      transition: width 0.6s ease;
    }

    nav#top-menu .menu-item.line-open > .menu-link::after {
      width: 80%;
    }

    nav#top-menu .menu-item.line-close > .menu-link::after {
      width: 0%;
    }

    nav#top-menu .menu-item.line-flash > .menu-link::after {
      animation: line-flash 1.2s ease;
      transition: none;
    }

    nav#top-menu .dropdown a::after {
      display: block;
    }

    nav#top-menu .dropdown {
      position: absolute;
      top: calc(100% + 10px);
      left: 50%;
      transform: translate(-50%, -10px);
      width: min(520px, 90vw);
      background: transparent;
      border: none;
      border-radius: 0;
      padding: 0.45rem 0 0.45rem;
      opacity: 0;
      visibility: hidden;
      max-height: 0;
      overflow: hidden;
      pointer-events: none;
      transition: max-height 0.7s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.35s ease, visibility 0.35s ease, transform 0.7s cubic-bezier(0.22, 1, 0.36, 1);
      z-index: 11;
    }

    nav#top-menu .menu-item.open .dropdown {
      opacity: 1;
      visibility: visible;
      max-height: 180px;
      pointer-events: auto;
      transform: translate(-50%, 0);
    }

    nav#top-menu .dropdown-inner {
      display: flex;
      flex-direction: column;
      gap: 0.45rem;
      margin-top: 1.0rem;
      text-align: center;
      transform: translateY(-10px);
      transition: transform 0.7s cubic-bezier(0.22, 1, 0.36, 1);
    }

    nav#top-menu .menu-item.open .dropdown-inner {
      transform: translateY(0);
    }

    nav#top-menu .dropdown-inner a {
      color: #111;
      font-size: var(--submenu-size);
      letter-spacing: 0.01em;
      text-decoration: none;
      opacity: 1;
      filter: none;
      transform: none;
      position: relative;
      display: inline-block;
      text-transform: uppercase;
      font-family: 'Tenor Sans', sans-serif;
      transition: color 0.25s ease;
    }

    nav#top-menu .dropdown-inner a:hover {
      color: #000;
    }

    nav#top-menu .dropdown-inner a::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 50%;
      transform: translateX(-50%);
      width: 0%;
      height: 1px;
      background-color: #111;
    }

    nav#top-menu .dropdown-inner a.line-flash-item::after {
      animation: line-flash-sub 0.8s ease;
      transition: none;
    }

    #desktop-blur {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 135px;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(18px);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
      z-index: 10;
    }

    .desktop-blur-on #desktop-blur {
      opacity: 1;
    }

    #desktop-separator {
      position: fixed;
      top: 1.9rem;
      left: 0;
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, rgba(17, 17, 17, 0.2), rgba(17, 17, 17, 0.6), rgba(17, 17, 17, 0.2));
      background-size: 200% 100%;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 11;
    }

    .desktop-blur-on #desktop-separator {
      opacity: 1;
      animation: separator-scan 2s linear infinite;
    }

    nav#top-menu .dropdown.line-seq .dropdown-inner a:nth-child(1)::after {
      animation: line-flash-sub-1 1.4s ease forwards;
      animation-delay: 0s;
    }

    nav#top-menu .dropdown.line-seq .dropdown-inner a:nth-child(2)::after {
      animation: line-flash-sub-2 1.4s ease forwards;
      animation-delay: 0.8s;
    }

    nav#top-menu .dropdown.line-seq .dropdown-inner a:nth-child(3)::after {
      animation: line-flash-sub-3 1.4s ease forwards;
      animation-delay: 1.6s;
    }

    nav#top-menu .dropdown-inner a:nth-child(1).line-flash-item::after {
      animation: line-flash-sub-1 1.4s ease;
    }

    nav#top-menu .dropdown-inner a:nth-child(2).line-flash-item::after {
      animation: line-flash-sub-2 1.4s ease;
    }

    nav#top-menu .dropdown-inner a:nth-child(3).line-flash-item::after {
      animation: line-flash-sub-3 1.4s ease;
    }

    /* Mobile Menu (Hamburger) */
    .menu-button {
      position: fixed;
      bottom: 1.2rem;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10001;
      background: none;
      border: none;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .menu-button div {
      background-color: #fff;
      margin: 3px 0;
      transition: all 0.8s ease;
      border-radius: 1px;
    }

    .menu-button div:nth-child(1) { width: 18px; height: 2px; }
    .menu-button div:nth-child(2) { width: 12px; height: 1.5px; }

    .menu-button.active div {
      background-color: #111;
    }

    .menu-button.blink div {
      animation: hamburger-blink 1.8s ease-out;
    }

    @keyframes hamburger-blink {
      0% {
        opacity: 0;
        filter: blur(8px);
      }
      100% {
        opacity: 1;
        filter: blur(0);
      }
    }

    @keyframes cascade-in {
      0% {
        opacity: 0;
        filter: blur(8px);
        transform: translateY(-6px);
      }
      100% {
        opacity: 1;
        filter: blur(0);
        transform: translateY(0);
      }
    }

    @keyframes cascade-out {
      0% {
        opacity: 1;
        filter: blur(0);
        transform: translateY(0);
      }
      100% {
        opacity: 0;
        filter: blur(8px);
        transform: translateY(-6px);
      }
    }

    @keyframes line-flash {
      0% { width: 0%; }
      50% { width: 80%; }
      100% { width: 0%; }
    }

    @keyframes line-flash-sub {
      0% { width: 0%; }
      50% { width: 80%; }
      100% { width: 0%; }
    }

    @keyframes line-flash-sub-1 {
      0% { width: 0%; }
      50% { width: 28%; }
      100% { width: 0%; }
    }

    @keyframes line-flash-sub-2 {
      0% { width: 0%; }
      50% { width: 47%; }
      100% { width: 0%; }
    }

    @keyframes line-flash-sub-3 {
      0% { width: 0%; }
      50% { width: 35%; }
      100% { width: 0%; }
    }

    @keyframes separator-scan {
      0% { background-position: 0% 0; }
      100% { background-position: 200% 0; }
    }

    @keyframes text-blink {
      0% {
        opacity: 1;
        filter: blur(0);
      }
      50% {
        opacity: 0.2;
        filter: blur(6px);
      }
      100% {
        opacity: 1;
        filter: blur(0);
      }
    }

    /* Mobile Menu */
    .mobile-menu {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(14px);
      z-index: 10000;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding-top: 3rem;
      transition: all 0.6s ease-in-out;
    }

    .mobile-menu.open {
      display: flex;
    }

    .mobile-menu a {
      color: #111;
      text-decoration: none;
      font-size: var(--menu-size);
      font-family: 'Tenor Sans', sans-serif;
      margin: 0.7rem 0;
      font-weight: 300;
      position: relative;
      transition: color 0.3s ease;
      letter-spacing: 0.01em;
      text-transform: uppercase;
      text-align: center;
    }

    .mobile-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .mobile-main.text-blink {
      animation: text-blink 1.2s ease;
    }

    .mobile-sublist {
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      transform: translateY(-8px);
      transition: max-height 0.7s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.4s ease, transform 0.7s cubic-bezier(0.22, 1, 0.36, 1);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.6rem;
    }

    .mobile-group.open .mobile-sublist {
      max-height: 240px;
      opacity: 1;
      transform: translateY(0);
    }

    .mobile-menu .mobile-sub {
      font-size: var(--submenu-size);
      letter-spacing: 0.01em;
      opacity: 0;
      filter: blur(8px);
      transform: translateY(-6px);
      text-transform: uppercase;
    }

    .mobile-menu a::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 50%;
      transform: translateX(-50%);
      width: 0%;
      height: 1px;
      background-color: #111;
      transition: width 0.6s ease;
    }

    .mobile-menu a.line-flash-item::after {
      animation: line-flash 0.8s ease;
      transition: none;
    }

    .mobile-sublist.cascade-open .mobile-sub {
      opacity: 0.9;
      filter: blur(0);
      transform: translateY(0);
      animation: cascade-in 0.7s ease forwards;
    }

    .mobile-sublist.cascade-close .mobile-sub {
      opacity: 0;
      filter: blur(8px);
      transform: translateY(-6px);
      animation: cascade-out 0.55s ease forwards;
    }

    .mobile-sublist.cascade-open .mobile-sub:nth-child(1) { animation-delay: 0.05s; }
    .mobile-sublist.cascade-open .mobile-sub:nth-child(2) { animation-delay: 0.18s; }
    .mobile-sublist.cascade-open .mobile-sub:nth-child(3) { animation-delay: 0.31s; }

    .mobile-sublist.cascade-close .mobile-sub:nth-child(3) { animation-delay: 0.05s; }
    .mobile-sublist.cascade-close .mobile-sub:nth-child(2) { animation-delay: 0.18s; }
    .mobile-sublist.cascade-close .mobile-sub:nth-child(1) { animation-delay: 0.31s; }

    .mobile-group.line-flash > .mobile-main::after {
      animation: line-flash 1.2s ease;
      transition: none;
    }

    .mobile-menu a:not(.mobile-main):hover::after,
    .mobile-menu a.line-active::after {
      width: 80%;
    }
    
    @media (min-width: 769px) {
      .menu-button {
        display: none;
      }
      
      nav#top-menu .menu-link {
        font-family: 'Tenor Sans', sans-serif;
        font-size: var(--menu-size);
        letter-spacing: 0.01em;
      }

      h1 {
        font-weight: 250;
      }
    }

    @media (max-width: 768px) {
      nav#top-menu {
        display: none;
      }
      
      h1 {
        font-size: 1.62rem;
        line-height: 1.98rem;
      }
      
      .frase-entrada {
        font-size: 8.1px;
      }
    }
  </style>
</head>
<body>
  <div id="desktop-blur" aria-hidden="true"></div>
  <div id="desktop-separator" aria-hidden="true"></div>
  <!-- Desktop Menu -->
  <nav id="top-menu">
    <div class="menu-item">
      <a class="menu-link" href="https://www.etheris.com.br/etheris/">Strategic Advisory</a>
      <div class="dropdown">
        <div class="dropdown-inner">
          <a href="https://www.etheris.com.br/etheris/">Operational Diagnostics</a>
          <a href="https://www.etheris.com.br/etheris/">Operational Transformation &amp; Execution</a>
          <a href="https://www.etheris.com.br/etheris/">Operational Governance &amp; Risk</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Mobile Hamburger Button -->
  <button class="menu-button" onclick="toggleMenu(event )" id="hamburgerButton">
    <div></div>
    <div></div>
    <div></div>
  </button>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-group">
      <a class="mobile-main" href="https://www.etheris.com.br/etheris/">Strategic Advisory</a>
      <div class="mobile-sublist">
        <a class="mobile-sub" href="https://www.etheris.com.br/etheris/">Operational Diagnostics</a>
        <a class="mobile-sub" href="https://www.etheris.com.br/etheris/">Operational Transformation &amp; Execution</a>
        <a class="mobile-sub" href="https://www.etheris.com.br/etheris/">Operational Governance &amp; Risk</a>
      </div>
    </div>
  </div>

  <!-- Background Video -->
  <video 
    autoplay 
    muted 
    loop 
    playsinline 
    preload="auto" 
    class="background-video" 
    id="bgVideo"
    webkit-playsinline="true"
    x5-playsinline="true"
    x5-video-player-type="h5"
    x5-video-player-fullscreen="true"
    x5-video-orientation="portraint">
    <source src="video6.mp4" type="video/mp4" />
    Seu navegador não suporta vídeo em HTML5.
  </video>

  <!-- Main Container -->
  <div class="container">
    <img src="https://www.etheris.com.br/logo.svg" alt="Logo Oficial Marca Etheris" class="logo" onerror="this.style.display='none'" />
    <h1 id="titulo">Etheris</h1>
    <p id="frase" class="frase-entrada">TRANSFORMAÇÃO OPERACIONAL SEM RUÍDO.</p>
  </div>

  <script>
    const video = document.getElementById("bgVideo" );
    const titulo = document.getElementById("titulo");
    const frase = document.getElementById("frase");
    const mobileMenu = document.getElementById("mobileMenu");
    const hamburgerButton = document.getElementById("hamburgerButton");

    let hamburgerBlinkInterval = null;
    let desktopOpenTimer = null;
    let desktopAutoCloseTimer = null;
    let desktopCloseTimer = null;
    let mobileAutoCloseTimer = null;
    let mobileLineLock = false;
    let mobileClosing = false;
    let mobileTitleBlinkTimer = null;

    const HAMBURGER_BLINK_START_DELAY = 500;
    const HAMBURGER_BLINK_STEP_DELAY = 1500;
    const LINE_OPEN_DURATION = 600;
    const LINE_HOLD_DURATION = 0;
    const DESKTOP_AUTO_CLOSE_DELAY = 10000;
    const MOBILE_AUTO_CLOSE_DELAY = 10000;
    const CASCADE_OUT_TOTAL = 900;
    const LINE_FLASH_DURATION = 1200;
    const SUBMENU_LINE_SEQ_TOTAL = 2600;

    function forceVideoPlay() {
      video.muted = true;
      video.playsInline = true;
      video.setAttribute('muted', '');
      video.setAttribute('playsinline', '');
      video.setAttribute('autoplay', '');
      const playPromise = video.play();
      if (playPromise !== undefined) {
        playPromise.catch(error => {
          console.log('Erro no autoplay, tentando novamente:', error);
          setTimeout(() => {
            video.play().catch(e => console.log('Segundo erro:', e));
          }, 100);
        });
      }
    }

    video.addEventListener('loadeddata', forceVideoPlay);
    video.addEventListener('canplay', forceVideoPlay);
    video.addEventListener('loadedmetadata', forceVideoPlay);
    window.addEventListener('load', forceVideoPlay);
    window.addEventListener('pageshow', () => {
      forceVideoPlay();
    });
    document.addEventListener('visibilitychange', () => {
      if (!document.hidden) {
        forceVideoPlay();
      }
    });
    forceVideoPlay();

    document.addEventListener('touchstart', function() {
      if (video.paused) {
        forceVideoPlay();
      }
    }, { once: true });

    function setColor(tColor, fColor) {
      titulo.style.color = tColor;
      frase.style.color = fColor;
    }

    function applyBlur() {
      titulo.classList.remove("blur-effect");
      frase.classList.remove("blur-effect");
      void titulo.offsetWidth;
      void frase.offsetWidth;
      titulo.classList.add("blur-effect");
      frase.classList.add("blur-effect");
    }

    function applyHamburgerBlink() {
      hamburgerButton.classList.remove("blink");
      void hamburgerButton.offsetWidth;
      hamburgerButton.classList.add("blink");
    }

    function clearHamburgerBlinkTimer() {
      if (hamburgerBlinkInterval) {
        clearTimeout(hamburgerBlinkInterval);
        hamburgerBlinkInterval = null;
      }
    }

    function startInitialHamburgerBlink() {
      clearHamburgerBlinkTimer();
      hamburgerButton.style.transition = 'all 0.8s ease';
      hamburgerButton.classList.remove("active");
      applyHamburgerBlink();
      hamburgerBlinkInterval = setTimeout(() => {
        applyHamburgerBlink();
        hamburgerBlinkInterval = null;
      }, HAMBURGER_BLINK_STEP_DELAY);
    }

    function startHamburgerBlink() {
      clearHamburgerBlinkTimer();
      hamburgerButton.style.transition = 'all 0.8s ease';
      hamburgerButton.classList.add("active");
      applyHamburgerBlink();
      hamburgerBlinkInterval = setTimeout(() => {
        applyHamburgerBlink();
        hamburgerBlinkInterval = null;
      }, HAMBURGER_BLINK_STEP_DELAY);
    }

    function stopHamburgerBlink() {
      clearHamburgerBlinkTimer();
      hamburgerButton.style.transition = 'all 0.8s ease';
      hamburgerButton.classList.remove("active");
      applyHamburgerBlink();
    }

    function resetAfterLoop() {
      setColor("#fff", "#fff");
      applyBlur();
      startCycle();
    }

    function startCycle() {
      setColor("#fff", "#fff");
      applyBlur();
      setTimeout(() => {
        let isWhite = true;
        let count = 0;
        const maxCycles = 6;
        const interval = setInterval(() => {
          if (count >= maxCycles) {
            clearInterval(interval);
            setColor("#fff", "#fff");
            applyBlur();
            return;
          }
          setColor(isWhite ? "#fff" : "#fff", isWhite ? "#fff" : "#fff");
          applyBlur();
          isWhite = !isWhite;
          count++;
        }, 2000);
      }, 3000);
    }

    startCycle();
    if (window.matchMedia("(max-width: 768px)").matches) {
      startInitialHamburgerBlink();
    }

    let lastPhase = "";
    video.addEventListener("timeupdate", () => {
      const remaining = video.duration - video.currentTime;
      if (remaining <= 2 && remaining > 1 && lastPhase !== "preto") {
        lastPhase = "preto";
        setColor("#fff", "#fff");
        applyBlur();
      }
      if (remaining <= 1 && lastPhase !== "branco") {
        lastPhase = "branco";
        setColor("#fff", "#fff");
        applyBlur();
      }
      if (video.currentTime < 0.1 && lastPhase) {
        lastPhase = "";
        resetAfterLoop();
      }
    });

    function toggleMenu(e) {
      e.stopPropagation();
      const isOpening = !mobileMenu.classList.contains("open");
      mobileMenu.classList.toggle("open");
      if (isOpening) {
        mobileClosing = false;
        startHamburgerBlink();
        scheduleMobileTitleBlink(HAMBURGER_BLINK_STEP_DELAY);
      } else {
        stopHamburgerBlink();
        if (mobileAutoCloseTimer) {
          clearTimeout(mobileAutoCloseTimer);
          mobileAutoCloseTimer = null;
        }
        if (mobileGroup && mobileGroup.classList.contains("open")) {
          closeMobileSublist();
        }
      }
    }

    const desktopMenuItem = document.querySelector("#top-menu .menu-item");
    const desktopMenuLink = document.querySelector("#top-menu .menu-item > a");
    const desktopDropdown = document.querySelector("#top-menu .dropdown");
    const mobileGroup = document.querySelector(".mobile-group");
    const mobileMain = document.querySelector(".mobile-main");
    const mobileSublist = document.querySelector(".mobile-sublist");

    if (desktopMenuItem) {
      desktopMenuItem.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }

    if (desktopDropdown) {
      desktopDropdown.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }

    if (mobileMenu) {
      mobileMenu.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }

    if (hamburgerButton) {
      hamburgerButton.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }

    function clearDesktopTimers() {
      if (desktopOpenTimer) {
        clearTimeout(desktopOpenTimer);
        desktopOpenTimer = null;
      }
      if (desktopAutoCloseTimer) {
        clearTimeout(desktopAutoCloseTimer);
        desktopAutoCloseTimer = null;
      }
      if (desktopCloseTimer) {
        clearTimeout(desktopCloseTimer);
        desktopCloseTimer = null;
      }
    }

    function triggerLineFlash() {
      if (!desktopMenuItem) return;
      desktopMenuItem.classList.remove("line-flash");
      void desktopMenuItem.offsetWidth;
      desktopMenuItem.classList.add("line-flash");
      setTimeout(() => {
        desktopMenuItem.classList.remove("line-flash");
      }, LINE_FLASH_DURATION);
    }

    function openDesktopDropdown() {
      if (!desktopMenuItem || !desktopDropdown) return;
      desktopMenuItem.classList.add("open");
      document.body.classList.add("desktop-blur-on");
      desktopDropdown.classList.remove("line-seq");
      void desktopDropdown.offsetWidth;
      desktopDropdown.classList.add("line-seq");
      setTimeout(() => {
        desktopDropdown.classList.remove("line-seq");
      }, SUBMENU_LINE_SEQ_TOTAL);
      if (desktopAutoCloseTimer) {
        clearTimeout(desktopAutoCloseTimer);
      }
      desktopAutoCloseTimer = setTimeout(() => {
        closeDesktopDropdown(true);
      }, DESKTOP_AUTO_CLOSE_DELAY);
    }

    function closeDesktopDropdown(shouldFlashLine) {
      if (!desktopMenuItem || !desktopDropdown) return;
      if (!desktopMenuItem.classList.contains("open")) return;
      if (shouldFlashLine) {
        triggerLineFlash();
      }
      if (desktopAutoCloseTimer) {
        clearTimeout(desktopAutoCloseTimer);
        desktopAutoCloseTimer = null;
      }
      desktopDropdown.classList.remove("line-seq");
      desktopCloseTimer = setTimeout(() => {
        desktopMenuItem.classList.remove("open");
        document.body.classList.remove("desktop-blur-on");
      }, CASCADE_OUT_TOTAL);
    }

    function startDesktopHoverSequence() {
      if (!desktopMenuItem) return;
      if (desktopMenuItem.classList.contains("open")) return;
      clearDesktopTimers();
      triggerLineFlash();
      desktopOpenTimer = setTimeout(() => {
        openDesktopDropdown();
      }, LINE_OPEN_DURATION + LINE_HOLD_DURATION);
    }

    function cancelDesktopHoverSequence() {
      if (!desktopMenuItem) return;
      if (desktopMenuItem.classList.contains("open")) return;
      if (desktopOpenTimer) {
        clearTimeout(desktopOpenTimer);
        desktopOpenTimer = null;
      }
      desktopMenuItem.classList.remove("line-flash");
    }

    if (desktopMenuItem && desktopMenuLink && desktopDropdown) {
      desktopMenuItem.addEventListener("mouseenter", () => {
        if (window.matchMedia("(min-width: 769px)").matches) {
          if (!desktopMenuItem.classList.contains("open")) {
            startDesktopHoverSequence();
          }
        }
      });

      desktopMenuItem.addEventListener("mouseleave", () => {
        if (window.matchMedia("(min-width: 769px)").matches) {
          if (!desktopMenuItem.classList.contains("open")) {
            cancelDesktopHoverSequence();
          }
        }
      });

      desktopMenuLink.addEventListener("click", (e) => {
        if (window.matchMedia("(min-width: 769px)").matches) {
          e.preventDefault();
          e.stopPropagation();
          if (desktopMenuItem.classList.contains("open")) {
            closeDesktopDropdown(true);
          } else {
            startDesktopHoverSequence();
          }
        }
      });
    }

    function triggerMobileLineFlash() {
      if (!mobileGroup) return;
      if (mobileLineLock) return;
      mobileLineLock = true;
      mobileGroup.classList.remove("line-flash");
      void mobileGroup.offsetWidth;
      mobileGroup.classList.add("line-flash");
      setTimeout(() => {
        mobileGroup.classList.remove("line-flash");
        mobileLineLock = false;
      }, LINE_FLASH_DURATION);
    }

    function scheduleMobileTitleBlink(delay = 0) {
      if (!mobileMain) return;
      if (mobileTitleBlinkTimer) {
        clearTimeout(mobileTitleBlinkTimer);
        mobileTitleBlinkTimer = null;
      }
      mobileTitleBlinkTimer = setTimeout(() => {
        mobileMain.classList.remove("text-blink");
        void mobileMain.offsetWidth;
        mobileMain.classList.add("text-blink");
        setTimeout(() => {
          mobileMain.classList.remove("text-blink");
        }, 700);
      }, Math.max(0, delay));
    }

    function openMobileSublist() {
      if (!mobileGroup || !mobileSublist) return;
      mobileClosing = false;
      mobileGroup.classList.add("open");
      triggerMobileLineFlash();
      mobileSublist.classList.remove("cascade-close");
      mobileSublist.classList.add("cascade-open");
      if (mobileAutoCloseTimer) {
        clearTimeout(mobileAutoCloseTimer);
      }
      mobileAutoCloseTimer = setTimeout(() => {
        closeMobileSublist();
      }, MOBILE_AUTO_CLOSE_DELAY);
    }

    function closeMobileSublist() {
      if (!mobileGroup || !mobileSublist) return;
      if (mobileClosing) return;
      mobileClosing = true;
      if (mobileAutoCloseTimer) {
        clearTimeout(mobileAutoCloseTimer);
        mobileAutoCloseTimer = null;
      }
      mobileSublist.classList.remove("cascade-open");
      mobileSublist.classList.add("cascade-close");
      setTimeout(() => {
        mobileGroup.classList.remove("open");
        mobileSublist.classList.remove("cascade-close");
        triggerMobileLineFlash();
        mobileClosing = false;
      }, CASCADE_OUT_TOTAL);
    }

    if (mobileMain && mobileGroup) {
      mobileMain.addEventListener("click", (e) => {
        if (window.matchMedia("(max-width: 768px)").matches) {
          e.preventDefault();
          e.stopPropagation();
          if (mobileGroup.classList.contains("open")) {
            closeMobileSublist();
          } else {
            openMobileSublist();
          }
        }
      });
    }

    document.querySelectorAll('#top-menu .dropdown a').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        if (desktopAutoCloseTimer) {
          clearTimeout(desktopAutoCloseTimer);
          desktopAutoCloseTimer = null;
        }
        link.classList.remove('line-flash-item');
        void link.offsetWidth;
        link.classList.add('line-flash-item');
        setTimeout(() => {
          window.location.href = link.href;
        }, 600);
      });
    });

  document.addEventListener("click", () => {
    window.location.assign("https://chat.etheris.com.br/");
  });

    document.querySelectorAll('.mobile-menu a').forEach(link => {
      link.addEventListener('click', function(e) {
        if (this.classList.contains('mobile-main')) {
          return;
        }
        if (mobileAutoCloseTimer) {
          clearTimeout(mobileAutoCloseTimer);
          mobileAutoCloseTimer = null;
        }
        e.preventDefault();
        e.stopPropagation();
        this.classList.remove('line-flash-item');
        void this.offsetWidth;
        this.classList.add('line-flash-item');
        setTimeout(() => {
          this.classList.remove('line-flash-item');
          window.location.href = this.href;
        }, 600);
      });
    });
  </script>
</body>
</html>
